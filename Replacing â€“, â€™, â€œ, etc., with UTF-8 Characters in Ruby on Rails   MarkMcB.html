<!DOCTYPE html>
<!-- saved from url=(0112)http://markmcb.com/2011/11/07/replacing-ae%E2%80%9C-ae%E2%84%A2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/ -->
<html lang="en-US"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails | MarkMcB</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="stylesheet" type="text/css" media="all" href="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/style.css">
<link rel="pingback" href="http://markmcb.com/xmlrpc.php">
<!--[if lt IE 9]>
<script src="http://markmcb.com/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="MarkMcB » Feed" href="http://markmcb.com/feed/">
<link rel="alternate" type="application/rss+xml" title="MarkMcB » Comments Feed" href="http://markmcb.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="MarkMcB » Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails Comments Feed" href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/feed/">
<link rel="stylesheet" id="moztheme2011-css" href="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/moztheme2011.css" type="text/css" media="all">
<!-- This site uses the Yoast Google Analytics plugin v5.0.7 - Universal disabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript" async="" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/ga.js"></script><script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1173890-1']);
	_gaq.push(['_gat._forceSSL']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();

</script>
<!-- / Yoast Google Analytics -->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://markmcb.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://markmcb.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Integer Compression in Ruby (Base-10 to Base-62)" href="http://markmcb.com/2011/11/02/integer-compression-in-ruby-base-10-to-base-62/">
<link rel="next" title="Understanding Offsite Backup vs. Local Backup vs. Syncing" href="http://markmcb.com/2012/06/10/understanding-offsite-backup-vs-local-backup-vs-syncing/">
<meta name="generator" content="WordPress 4.0">
<link rel="canonical" href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/">
<link rel="shortlink" href="http://markmcb.com/?p=449">
	<style type="text/css" id="twentyeleven-header-css">
			#site-title,
		#site-description {
			position: absolute !important;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
<link rel="stylesheet" type="text/css" href="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="single single-post postid-449 single-format-standard custom-background single-author two-column left-sidebar moz-sidebar-adjust">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="http://markmcb.com/" title="MarkMcB" rel="home">MarkMcB</a></span></h1>
				<h2 id="site-description">Mark McBride of San Francisco</h2>
			</hgroup>

			<!-- markmcb 16 Jul 2012
							<div class="only-search">
					<form method="get" id="searchform" action="http://markmcb.com/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
				</div>
			end markmcb -->
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="http://markmcb.com/2011/11/07/replacing-ae%E2%80%9C-ae%E2%84%A2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="http://markmcb.com/2011/11/07/replacing-ae%E2%80%9C-ae%E2%84%A2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-282" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-282"><a title="MarkMcB.com Home Page" href="http://markmcb.com/">Home</a></li>
<li id="menu-item-281" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-281"><a href="http://markmcb.com/about/">About</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="http://markmcb.com/2011/11/02/integer-compression-in-ruby-base-10-to-base-62/" rel="prev"><span class="meta-nav">←</span> Previous</a></span>
						<span class="nav-next"><a href="http://markmcb.com/2012/06/10/understanding-offsite-backup-vs-local-backup-vs-syncing/" rel="next">Next <span class="meta-nav">→</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-449" class="post-449 post type-post status-publish format-standard hentry category-apps-data tag-characters tag-encoding tag-rails tag-ruby tag-utf8">
	<header class="entry-header">
		<h1 class="entry-title">Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails</h1>

				<div class="entry-meta">
			<span class="sep">Posted on </span><a href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/" title="9:34 am" rel="bookmark"><time class="entry-date" datetime="2011-11-07T09:34:49+00:00">November 7, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://markmcb.com/author/markmcb/" title="View all posts by Mark McBride" rel="author">Mark McBride</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Recently I upgraded some older Rails applications to Rails 3.1 and Ruby 1.9.2 (from 2.3 and 1.8.7 respectively).  One post-upgrade issue was that text content had a lot of garbage showing up like â€“, â€™, â€œ, etc.  For example, here’s an actual example from a comment in one of the applications:</p>
<blockquote><p>One of my â€œthings to do before Iâ€™m 50â€ is</p></blockquote>
<p>This should read:</p>
<blockquote><p>One of my “things to do before I’m 50” is </p></blockquote>
<p>It turns out these are just special characters that were improperly encoded for utf-8.  The fix is simple enough: loop through your content and replace where needed.  </p>
<p>If your database is big, this could take a long time unless you disable callbacks.  The script below highlights both how to replace the characters using Ruby and how to disable your Rails callbacks to make this script run in seconds instead of hours (depending on the complexity of your callbacks).</p>
<div><div id="highlighter_874320" class="syntaxhighlighter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">replacements = []</code></div><div class="line number2 index1 alt1"><code class="ruby plain">replacements &lt;&lt; [</code><code class="ruby string">'â€¦'</code><code class="ruby plain">, </code><code class="ruby string">'…'</code><code class="ruby plain">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># elipsis</code></div><div class="line number3 index2 alt2"><code class="ruby plain">replacements &lt;&lt; [</code><code class="ruby string">'â€“'</code><code class="ruby plain">, </code><code class="ruby string">'–'</code><code class="ruby plain">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># long hyphen</code></div><div class="line number4 index3 alt1"><code class="ruby plain">replacements &lt;&lt; [</code><code class="ruby string">'â€™'</code><code class="ruby plain">, </code><code class="ruby string">'’'</code><code class="ruby plain">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># curly apostrophe</code></div><div class="line number5 index4 alt2"><code class="ruby plain">replacements &lt;&lt; [</code><code class="ruby string">'â€œ'</code><code class="ruby plain">, </code><code class="ruby string">'“'</code><code class="ruby plain">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># curly open quote</code></div><div class="line number6 index5 alt1"><code class="ruby plain">replacements &lt;&lt; [/â€[[</code><code class="ruby color2">:cntrl</code><code class="ruby plain">:]]/, </code><code class="ruby string">'”'</code><code class="ruby plain">] </code><code class="ruby comments"># curly close quote</code></div><div class="line number7 index6 alt2"><code class="ruby plain">klasses = [Comment, Article]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># replace with relevant classes</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="ruby plain">klasses.</code><code class="ruby keyword">each</code> <code class="ruby keyword">do</code> <code class="ruby plain">|klass|</code></div><div class="line number10 index9 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">klass.all.</code><code class="ruby keyword">each</code> <code class="ruby keyword">do</code> <code class="ruby plain">|obj|</code></div><div class="line number11 index10 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">original = obj.body</code></div><div class="line number12 index11 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">replacements.</code><code class="ruby keyword">each</code><code class="ruby plain">{ |set| obj.body = obj.body.gsub(set[</code><code class="ruby constants">0</code><code class="ruby plain">], set[</code><code class="ruby constants">1</code><code class="ruby plain">]) }</code></div><div class="line number13 index12 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">unless</code> <code class="ruby plain">(original == obj.body)</code></div><div class="line number14 index13 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby comments">#### Remove or Customize ####</code></div><div class="line number15 index14 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby comments"># This should reflect your models' callbacks.&nbsp; It should be safe</code></div><div class="line number16 index15 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby comments"># since we're just doing a simple find/replace.</code></div><div class="line number17 index16 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">Comment.skip_callback(</code><code class="ruby color2">:save</code><code class="ruby plain">, </code><code class="ruby color2">:after</code><code class="ruby plain">,&nbsp; </code><code class="ruby color2">:do_after_save_tasks</code> <code class="ruby plain">) </code><code class="ruby keyword">if</code> <code class="ruby plain">obj.is_a?(Comment)</code></div><div class="line number18 index17 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">Article.skip_callback(</code><code class="ruby color2">:save</code><code class="ruby plain">, </code><code class="ruby color2">:before</code><code class="ruby plain">, </code><code class="ruby color2">:do_before_save_tasks</code><code class="ruby plain">) </code><code class="ruby keyword">if</code> <code class="ruby plain">obj.is_a?(Article)</code></div><div class="line number19 index18 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby comments">#### End Remove or Customize ####</code></div><div class="line number20 index19 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">obj.save! </code></div><div class="line number21 index20 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number22 index21 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number23 index22 alt2"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
<p>If you noticed, I used a regular expression for the curly close quote.  This is because there is an invisible control character that is not easily copy/pasted into your code.  Using <code>[[:cntrl:]]</code> is just an easier way to catch it.</p>
			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="http://markmcb.com/category/apps-data/" rel="category tag">Apps and Data</a> and tagged <a href="http://markmcb.com/tag/characters/" rel="tag">characters</a>, <a href="http://markmcb.com/tag/encoding/" rel="tag">encoding</a>, <a href="http://markmcb.com/tag/rails/" rel="tag">rails</a>, <a href="http://markmcb.com/tag/ruby/" rel="tag">ruby</a>, <a href="http://markmcb.com/tag/utf8/" rel="tag">utf8</a> by <a href="http://markmcb.com/author/markmcb/">Mark McBride</a>. Bookmark the <a href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/" title="Permalink to Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails" rel="bookmark">permalink</a>.		
			</footer><!-- .entry-meta -->
</article><!-- #post-449 -->

						<div id="comments">
	
	
			<h2 id="comments-title">
			3 thoughts on “<span>Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails</span>”		</h2>

		
		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-3090">
		<article id="comment-3090" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/c14ec63bcbf8b452e842647b58195e5d" class="avatar avatar-68 photo" height="68" width="68"><span class="fn">steven shustak</span> on <a href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/#comment-3090"><time datetime="2012-04-16T09:42:15+00:00">April 16, 2012 at 9:42 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>I have been getting unusual characters within some email messages which appear randomly, across the board, so to speak. As I recall, they show up in place of the letter ” s ” in most instances. I’ve noticed them for 6 or more months now in “text” and/or in “rich text” documents. According to your information they have been found in: ”  â€œ ”  or variations of same characters.<br>
In my humble, unsophisticated opinion, they are freak code of some form or other. Kindly advise me if new info comes out. I am most curious. Thanks,<br>
Steve Shustak, e/m address: <a href="mailto:sshustak@comcast.net">sshustak@comcast.net</a>.</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3943">
		<article id="comment-3943" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/3e1e8933fa9c841417b8f3238cc16de0" class="avatar avatar-68 photo" height="68" width="68"><span class="fn"><a href="http://moiopit.ru/" rel="external nofollow" class="url">Piero</a></span> on <a href="http://markmcb.com/2011/11/07/replacing-ae%e2%80%9c-ae%e2%84%a2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/#comment-3943"><time datetime="2013-04-09T07:37:43+00:00">April 9, 2013 at 7:37 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Great post, but I wouldn’t limit it to Ruby. I just used your hints to fix problems in my SQL dump file, which accidently converted UTF8 characters to those broken ones. Thanks for the post, anyways ;)</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href="http://www.stephen-scotter.net/computers/web-development/wordpress/ae-characters-or-similar-on-your-wordpress-site" rel="external nofollow" class="url">â€™ characters or similar on your WordPress site » Scotters Blog</a></p>
	</li><!-- #comment-## -->
		</ol>

		
				<p class="nocomments">Comments are closed.</p>
		
	
			
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->

		<div id="secondary" class="widget-area" role="complementary">
			<aside id="php_widget-5" class="widget php_widget"><div id="profile">
<div id="profile-photo">
<a href="http://markmcb.com/" style="border: 0"><img src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/markmcb_rounded.png"></a></div>

<div id="profile-photo-tagline">
<p style="font-size: 1.3em; margin-bottom: 0px;">Mark McBride</p>
<p>of San&nbsp;Francisco, California<br>
expatriated in Basel, Switzerland<br>
<a href="http://markmcb.com/">home</a>, <a href="http://markmcb.com/about">about</a></p>
</div>

<div id="profile-connect-long">
<p style="font-size: 1.3em; margin-bottom: 0">Connect</p>

<ul>
<li>correspondence: <a href="mailto:mark@markmcb.com">email</a></li>
<li>day-to-day: <a href="http://twitter.com/markmcb">Twitter</a></li>
<li>photos: <a href="https://plus.google.com/u/0/photos/101484629209116497740/albums">Google+</a>, <a href="http://500px.com/markmcb">500px</a></li>
<li>writings:
<ul class="sub-list">
<li><a href="http://markmcb.com/category/hacker/hardware-os/">hardware &amp; os</a></li>
<li><a href="http://markmcb.com/category/hacker/programming-scripting/">programming &amp; scripting</a></li>
<li><a href="http://markmcb.com/category/hacker/apps-data/">software, apps &amp; data</a></li>
<li><a href="http://markmcb.com/category/art-music/">art &amp; music</a></li>
<li><a href="http://markmcb.com/category/photography/">photography</a></li>
<li><a href="http://markmcb.com/category/miscellaneous/">miscellany</a></li>
</ul>
</li>
</ul>
</div>

<div id="profile-connect-short">
<a href="mailto:mark@markmcb.com">email</a>, <a href="https://plus.google.com/u/0/photos/101484629209116497740/albums">photos</a>, <a href="http://markmcb.com/all-content/">writing</a>, <a href="http://twitter.com/markmcb">twitter</a>
</div>

</div></aside>		</div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			
<div id="supplementary" class="one">
		<div id="first" class="widget-area" role="complementary">
		<aside id="php_widget-4" class="widget php_widget"><div id="markmcb-footer-meta">
<p>You made it to the bottom! If you like 

this article, <a href="https://twitter.com/share?url=http://markmcb.com/2011/11/07/replacing-ae%E2%80%9C-ae%E2%84%A2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/&via=markmcb&text=Replacing%20%C3%A2%E2%82%AC%E2%80%9C,%20%C3%A2%E2%82%AC%E2%84%A2,%20%C3%A2%E2%82%AC%C5%93,%20etc.,%20with%20UTF-8%20Characters%20in%20Ruby%20on%20Rails">tweet it</a> and

<a href="http://twitter.com/markmcb">follow @markmcb on Twitter</a>.  You can find more ways to contact me on the <a href="http://markmcb.com/">home</a> and <a href="http://markmcb.com/about/">about pages</a>. </p><p>
</p><p>
<a href="http://markmcb.com/2011/11/07/replacing-ae%E2%80%9C-ae%E2%84%A2-aeoe-etc-with-utf-8-characters-in-ruby-on-rails/#top">↑ Back to the Top</a>
</p>
</div>

<div id="mcb-copyright">
© Mark McBride 2014 </div></aside>	</div><!-- #first .widget-area -->
	
	
	</div><!-- #supplementary -->
			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shCore.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushAS3.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushBash.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushColdFusion.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushClojure.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushCpp.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushCSharp.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushCss.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushDelphi.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushDiff.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushErlang.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushFSharp.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushGroovy.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushJava.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushJavaFX.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushJScript.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushLatex.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushMatlabKey.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushObjC.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushPerl.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushPhp.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushPlain.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushPowerShell.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushPython.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushR.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushRuby.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushScala.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushSql.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushVb.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushXml.js"></script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/shBrushAppleScript.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://markmcb.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://markmcb.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./Replacing â€“, â€™, â€œ, etc., with UTF-8 Characters in Ruby on Rails   MarkMcB_files/comment-reply.min.js"></script>


</body></html>